@use '../utilities/' as *;

.timer {
    $root: &;
    display: flex;
    gap: 20px;
    height: 200px;

    &__card {
        position: relative;
        display: flex;
        flex-direction: column;
        width: 200px;
        height: 94px;
        perspective: 500px;

        &.running {
            #{$root}__card-part {
                &--front {
                    &::before {
                        animation: frontFlipDown 0.6s ease-in-out;
                        transform-origin: center bottom;
                        backface-visibility: hidden;
                        -webkit-backface-visibility: hidden; 
                    }
                }
    
                &--back {
                    &::after {
                        animation: backFlipDown 0.6s ease-in-out;
                    }
                }
            }
        }
    }

    &__card-bg {
        position: absolute;
        top: 10px;
        left: 0;
        width: 100%;
        height: 200%;
        background: $c-blue-blackish;
        border-radius: 10px;
    }

    &__card-part {
        font-size: 8rem;
        font-weight: 700;
        color: $c-red-soft;

        &::before, &::after {
            position: absolute;
            display: flex;
            justify-content: center;
            content: attr(data-timer-time);
            left: 0;
            width: 100%;
            height: 100%;
            line-height: 0;
            /* backface-visibility: hidden;
                    -webkit-backface-visibility: hidden; */
            overflow: hidden;
        }

        &--front {
            &::before {
                align-items: flex-end;
                top: 0;
                background: url('../img/card-top.svg');
                background-repeat: no-repeat;
                background-size: 100% 100%;
                color: transparentize($c-red-soft, 0.1);
                z-index: 3;
            }

            &::after {
                top: 100%;
                background: url('../img/card-bottom.svg');
                background-repeat: no-repeat;
                background-size: 100% 100%;
                z-index: 1;
            }
        }
        
        &--back {
            &::before {
                bottom: 0;
                align-items: flex-end;
                background: url('../img/card-top.svg');
                background-repeat: no-repeat;
                background-size: 100% 100%;
                color: transparentize($c-red-soft, 0.1);
                z-index: 1;
            }

            &::after {
                top: 100%;
                background: url('../img/card-bottom-2.svg');
                background-repeat: no-repeat;
                background-size: 100% 100%;
                transform-origin: top center;
                transform: rotateX(0.5turn);
                z-index: 2;
            }
        }
    }
}